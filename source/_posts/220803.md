---
title: 通信をコントロールするたったの一行
date: 2022-08-03 20:55:23
categories: PHP
tags: 
- POST
---

光の量をコントロールすることで心象を変化させることができる。意図的に。
四日目。

{% asset_img 220504_1002538.jpg %}

PHPを使って、フォーム、リスト、テーブルの表現を効率的に作成する方法を学ぶ。
この先にDB接続が待っている。待ち遠しい。

### 今日の注目点

* form => actionで『post』で指定して送信先へのデータを送信をこの1行がやってる。`<form action="checkbox_receive.php" method="post">`
* この1行でオブジェクトがページを越えて行くことを思うと感慨深い。

```
<!-- checkbox_send.php -->

<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  ...
</head>
<body>
  <h1>チェックボックスを使ったフォーム</h1>
  <form action="checkbox_receive.php" method="post">
    <p>
      <!-- colors[]とするこで、配列へチェックボックスに印をする度に値がappendされるわけ。 -->
      <!-- 配列名としては『colors』であることに注意が必要。 -->
      <input type="checkbox" name="colors[]" value="青">青
      <input type="checkbox" name="colors[]" value="赤">赤
      <input type="checkbox" name="colors[]" value="黄">黄
      <input type="checkbox" name="colors[]" value="緑">緑
      <input type="checkbox" name="colors[]" value="紫">紫
      <input type="checkbox" name="colors[]" value="白">白
      <input type="checkbox" name="colors[]" value="橙">橙
    </p>
    <input type="submit" value="Submit">
  </form>
</body>
</html>
```

* レシーバーは、チェックボックスの値を受け取る。
* 連想配列colorsで収集したデータをここで新たな器に納めている。

```
<!-- checkbox_receive.php -->
<?php

$colors = $_POST['colors'];
?>
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  ...
</head>
<body>
  <h1>受信ページ</h1>
  <h3>お好きな色</h3>
  <!-- 好みの色をリストで展開させる。 -->
  <ul>
    <?php foreach($colors as $val) { ?>
      <li> <?php echo $val ?> </li>
    <?php } ?>
  </ul>
</body>
</html>
```